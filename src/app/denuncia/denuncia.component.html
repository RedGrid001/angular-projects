<div class="container" role="main">
      <!-- Aregar mt-x para que el div container tenga un margen de x -->
    <div class="row mt-3" >
      <div class="col">
        <div class="mat-typography">
          <h1 class="mat-h1 text-danger">DATOS DEL DENUNCIANTE</h1>
          <h4 class="mat-h4 text-light bg-dark">Completar los campos obligatorios para solventar a la brevedad posible su denuncia</h4>
        </div>
      </div>
    </div>
    <!-- <hr> -->
    <div>
      <mat-accordion class="example-headers-align">
        <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Personales
            </mat-panel-title>
            <mat-panel-description>
              <div id="inf-personales">Validar utilizando documento de identidad</div>
              <mat-icon id="icon-1">account_circle</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-form-field class="example-full-width">
            <mat-label>Tipo de documento</mat-label>
            <mat-select [formControl]="tipodocumentoFC" required [cdkTrapFocus] >
              <mat-option *ngFor="let documento of documentos" [value]="documento.value" >
                {{documento.value}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="tipodocumentoFC.hasError('required')">Por favor elige un documento</mat-error>
          </mat-form-field>
          
            <mat-form-field class="example-full-width">
              <input type="number" matInput placeholder="Numero de documento" [formControl]="documentoFC" required>
            </mat-form-field>

            <mat-form-field class="example-full-width">
              <input matInput placeholder="Fecha de nacimiento" [matDatepicker]="picker" (focus)="picker.open()" readonly 
              [formControl]="fechanacimientoFC" required >
            </mat-form-field>
            <mat-datepicker #picker></mat-datepicker>

            <button type="button" color="primary" class="btn btn-lg btn-block" mat-raised-button (click)="getContacto(documentoFC.value,tipodocumentoFC.value)" >Validar Identidad</button>
         
          <hr>

          <mat-form-field class="example-full-width">
            <input type="text" [(ngModel)]="contacto.nombreCiudadano"  matInput placeholder="Nombre" disabled>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input type="text" [(ngModel)]="contacto.apellidoCiudadano" matInput placeholder="Apellido" disabled>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input type="text" [(ngModel)]="contacto.departamentoCiudadano"  matInput placeholder="Departamento" disabled>
          </mat-form-field>

          <mat-action-row>
            <button mat-stroked-button color="accent" (click)="nextStep()">Siguiente</button>
          </mat-action-row>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Contactar
            </mat-panel-title>
            <mat-panel-description>
              <div id="inf-preguntas">Datos para comunicación o ubicación</div>
              <mat-icon id="icon-2">map</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <table class="example-full-width" cellspacing="0">
            <tr>
              <mat-form-field class="example-full-width">
                <span matPrefix>+503 &nbsp;</span>
                <input type="tel" matInput placeholder="Movil" [formControl]="telefonomovilFC" required >
                <mat-icon matSuffix>phone</mat-icon>
              </mat-form-field>
              <mat-form-field class="example-full-width">
                <span matPrefix>+503 &nbsp;</span>
                <input type="tel" matInput placeholder="Casa" [formControl]="telefonocasaFC" >
                <mat-icon matSuffix>phone</mat-icon>
              </mat-form-field>
            </tr>
          </table>

          <mat-form-field class="example-full-width">
            <input matInput placeholder="Introduce tu correo electrónico" [formControl]="emailFC" required >
            <mat-error *ngIf="emailFC.invalid">{{getErrorEmailMessage()}}</mat-error>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <textarea matInput placeholder="Dirección" [formControl]="direccionFC" required ></textarea>
          </mat-form-field>

          <mat-action-row>
            <button mat-stroked-button color="warn" (click)="prevStep()">Volver</button>
            <button mat-stroked-button color="accent" (click)="nextStep()">Siguiente</button>
          </mat-action-row>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Preguntas
            </mat-panel-title>
            <mat-panel-description>
              <div id="inf-contactar">Marcar según el caso</div>
              <mat-icon id="icon-3">edit</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div class="row">
            <div class="col-sm-12">
              <div class="mat-body-2">Tipo de denuncia:</div>
              <p></p>
              <mat-checkbox class="example-margin" [(ngModel)]="hechos.tipoDenunciaP">Abuso de autoridad</mat-checkbox>
              <mat-checkbox class="example-margin" [(ngModel)]="hechos.tipoDenunciaS">Faltas escolares</mat-checkbox>
              <mat-checkbox class="example-margin" [(ngModel)]="hechos.tipoDenunciaT">Acoso estudiantil</mat-checkbox>
            </div>
            <div class="col-sm-12">
              <div id="example-radio-group-label" class="mat-body-2">Trabaja o estudia en el lugar:</div>
                <mat-radio-group class="example-radio-group" aria-label="Select an option" [(ngModel)]="hechos.trabajaLugar">
                  <mat-radio-button class="example-radio-button" value="SI">SI</mat-radio-button>
                  <mat-radio-button class="example-radio-button" value="NO">NO</mat-radio-button>
                </mat-radio-group>
            </div>
            <div class="col-sm-12">
              <div id="example-radio-group-label" class="mat-body-2">Es representante legal del denunciante:</div>
                <mat-radio-group class="example-radio-group" aria-label="Select an option" [(ngModel)]="hechos.representanteLegal">
                  <mat-radio-button class="example-radio-button" value="SI">SI</mat-radio-button>
                  <mat-radio-button class="example-radio-button" value="NO">NO</mat-radio-button>
                </mat-radio-group>
            </div>
          </div>

          <mat-action-row>
            <button mat-stroked-button color="warn" (click)="prevStep()">Volver</button>
            <button mat-stroked-button color="accent" (click)="setStep(4)">Finalizar</button>
          </mat-action-row>
        </mat-expansion-panel>

      </mat-accordion>
      <!-- <div>
        <button class="btn btn-info btn-lg btn-block mt-3 mb-3" (click)="setStep(4)"
         mat-raised-button >Continuar <i class="material-icons">arrow_forward</i></button>
      </div> -->
    </div>

    <div class="row mt-3">
        <div class="col">
          <div class="mat-typography">
            <h1 class="mat-h1 text-danger">VENTANA DE HECHOS</h1>
            <h4 class="mat-h4 text-light bg-dark">Por favor completar los siguientes datos con información 
              fidedigna y confiable para resolverle a la brevedad posible su denuncia.</h4>
          </div>
        </div>
    </div>
    <div>
      <mat-accordion class="example-headers-align">
        <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Datos
            </mat-panel-title>
            <mat-panel-description>
              Sobre los hechos
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-form-field class="example-full-width">
            <input type="text" matInput placeholder="Institución donde sucedieron los hechos"  
            [formControl]="institucionFC" [matAutocomplete]="autoce" required >
            <mat-autocomplete #autoce="matAutocomplete">
              <mat-option (onSelectionChange)="complementarce(option.codigo_ce)" *ngFor="let option of filteredOptions | async" [value]="option.nombre_ce">
                {{option.nombre_ce}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Director del centro escolar" [formControl]="directorFC" required >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Numero de identificación de centro escolar" [formControl]="codceFC" required >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <textarea matInput placeholder="Descripción de los hechos" [formControl]="hechosdescFC" required ></textarea>
          </mat-form-field>
          <div class="mat-body-2">¿En qué fecha ocurrieron los hechos?</div>
          <div class="row justify-content-center">
            <div class="col-sm-4">
              <mat-form-field class="example-full-width">
                <input matInput placeholder="Fecha inicio" [matDatepicker]="picker1" (focus)="picker1.open()" readonly [formControl]="fechahechosiFC" required >
              </mat-form-field>
              <mat-datepicker #picker1>
              </mat-datepicker>
            </div>
            <div class="col-sm-4 offset-sm-2">
              <mat-form-field class="example-full-width">
                <input matInput placeholder="Fecha final" [matDatepicker]="picker2" (focus)="picker2.open()" readonly [formControl]="fechahechosfFC" required >
              </mat-form-field>
              <mat-datepicker #picker2>
              </mat-datepicker>
            </div>
          </div>

          <mat-action-row>
            <button mat-stroked-button color="accent" (click)="nextStep()">Siguiente</button>
          </mat-action-row>

        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Adicional
            </mat-panel-title>
            <mat-panel-description>
              Añadir más información
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-tab-group dynamicHeight [color]="['accent']" [backgroundColor]="['primary']">
            <mat-tab label="Parte 1">
              <div class="mat-body-2">¿Sufrió algún tipo de daño físico?</div>
              <mat-radio-group class="example-radio-group" aria-label="Select an option" [(ngModel)]="hechos.agresionFisica">
                <mat-radio-button class="example-radio-button" value="SI">SI</mat-radio-button>
                <mat-radio-button class="example-radio-button" value="NI">NO</mat-radio-button>
              </mat-radio-group>
              <div class="mat-body-2">¿Sufrió algún tipo de daño verbal?</div>
              <mat-radio-group class="example-radio-group" aria-label="Select an option" [(ngModel)]="hechos.agresionVerbal">
                <mat-radio-button class="example-radio-button" value="SI">SI</mat-radio-button>
                <mat-radio-button class="example-radio-button" value="NO">NO</mat-radio-button>
              </mat-radio-group>
            </mat-tab>
            <mat-tab label="Parte 2">
              <div class="mat-body-2">¿Inversición en recuperación del daño causado?</div>
              <mat-form-field >
                <input matInput placeholder="Monto" type="number" class="example-right-align" [(ngModel)]="hechos.inversionRecuperacion">
                <span matPrefix>$&nbsp;</span>
                <span matSuffix>.00</span>
              </mat-form-field>
            </mat-tab>
            <mat-tab label="Parte 3">
              <div class="container">
                <div class="mat-body-2">Agregar archivo de prueba:</div>
                <button mat-raised-button color="primary" (click)="DialogDocumento()" [disabled]="disabledBtnUpload">Cargar <i class="material-icons">attach_file</i></button>
              </div>  
            </mat-tab>
          </mat-tab-group>

          <mat-action-row>
            <button mat-stroked-button color="warn" (click)="prevStep()">Volver</button>
            <button mat-stroked-button color="accent" (click)="nextStep()">Siguiente</button>
          </mat-action-row>

        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="step === 6" (opened)="setStep(6)" >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Otros
            </mat-panel-title>
            <mat-panel-description>
              Brindar más información
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-form-field class="example-full-width">
            <mat-label>Otra entidad donde tenga procesos abiertos</mat-label>
            <mat-select [(ngModel)]="hechos.otroProceso">
              <mat-option *ngFor="let entidad of entidades" [value]="entidad.value" >
                {{entidad.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <mat-label>Escriba # de expediente y mediador de ese caso</mat-label>
            <textarea matInput placeholder="" [(ngModel)]="hechos.desOtroProceso"></textarea>
          </mat-form-field>

          <button mat-raised-button color="primary" (click)="DialogFuncionario()">Añadir Funcionario</button>
    
          <mat-action-row>
            <button mat-stroked-button color="warn" (click)="prevStep()">Volver</button>
            <button mat-stroked-button color="accent" (click)="nextStep()">Finalizar</button>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
      
      <!-- <div>
        <button class="btn btn-success btn-lg btn-block mt-3 mb-3" mat-raised-button 
        (click)="DialogDescargar()" >Descargar<mat-icon aria-hidden="false" aria-label="Example cloud_download icon">cloud_download</mat-icon></button>
      </div> -->

      <div>
        <button color="primary" class="btn btn-lg btn-block mt-3 mb-3" mat-raised-button 
        (click)="DialogConfirmacion()" >Finalizar <i class="material-icons">arrow_forward</i></button>
      </div>
    </div>
</div>

